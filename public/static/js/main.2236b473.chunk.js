(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){e.exports=a(53)},43:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(20),c=a.n(i),r=(a(43),a(11)),o=a(12),l=a(15),u=a(13),d=a(16),m=a(14),h=a(17),p=a(56),f=a(5),b={apiUrl:"http://localhost:3001/api/v1",issueStates:["open","pending","closed"]},v=a(57),j=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(v.a,{className:"mb-2"},s.a.createElement(v.a.Body,null,s.a.createElement(v.a.Title,null,s.a.createElement(m.b,{to:{pathname:"/issue/".concat(this.props.data.issueID)}},this.props.data.issueName)),s.a.createElement(v.a.Text,null,this.props.data.issueDescription.substring(0,120),this.props.data.issueDescription.length>120?"...":"")))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).loaded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?a.setState(Object(f.a)({},a.state,{loading:!1,error:!1,issues:e})):a.setState(Object(f.a)({},a.state,{loading:!1,error:t}))},a.state={loading:!1,error:!1,issues:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadData(this.loaded)}},{key:"loadData",value:function(e){return this.setState(Object(f.a)({},this.state,{loading:!0})),fetch("".concat(b.apiUrl,"/issue")).then((function(e){return e.json()})).then(e,(function(t){e(null,t)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,s.a.createElement(m.b,{to:"/issue/new"},"Add New Issue")),s.a.createElement("h2",null,"Issue List"),s.a.createElement("div",{className:"row"},b.issueStates.map((function(t,a){return s.a.createElement("div",{key:a,className:"col-sm"},s.a.createElement("h3",{className:"issueListState"},t),e.state.issues.filter((function(e){return e.issueState===t})).map((function(e,t){return s.a.createElement(j,{data:e,key:t})})))}))))}}]),t}(n.Component),O=a(58),g=a(55),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).loaded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?a.setState(Object(f.a)({},a.state,{loading:!1,error:!1,data:e})):a.setState(Object(f.a)({},a.state,{loading:!1,error:t}))},a.create=function(e){e.preventDefault(),fetch("".concat(b.apiUrl,"/issue"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a.state.data)}).then((function(e){return e.json()})).then((function(e){alert("issue successfully created"),a.setState(Object(f.a)({},a.state,{data:Object(f.a)({},a.state.data,{},e),created:!0}))}),(function(e){a.setState(Object(f.a)({},a.state,{error:e}))}))},a.update=function(e){e.preventDefault(),fetch("".concat(b.apiUrl,"/issue/").concat(a.state.data.issueID),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a.state.data)}).then((function(e){return e.json()})).then((function(e){alert("issue successfully saved"),a.setState(Object(f.a)({},a.state,{data:Object(f.a)({},a.state.data,{},e)}))}),(function(e){a.setState(Object(f.a)({},a.state,{error:e}))}))},a.remove=function(e){fetch("".concat(b.apiUrl,"/issue/").concat(a.state.data.issueID),{method:"DELETE"}).then((function(e){return e.json()})).then((function(){alert("issue successfully deleted"),a.setState(Object(f.a)({},a.state,{deleted:!0}))}),(function(e){a.setState(Object(f.a)({},a.state,{error:e}))}))},a.changeIssueName=function(e){a.setState({data:Object(f.a)({},a.state.data,{issueName:e.target.value}),modified:!0})},a.changeIssueDescription=function(e){a.setState({data:Object(f.a)({},a.state.data,{issueDescription:e.target.value}),modified:!0})},a.changeIssueState=function(e){a.setState({data:Object(f.a)({},a.state.data,{issueState:e.target.value}),modified:!0})},a.state={data:{issueID:0,issueName:"",issueDescription:"",issueState:b.issueStates[0]||"",issueModifiedDate:""},modified:!1,loading:!1,error:!1,deleted:!1,created:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"new"!==this.props.match.params.issueID&&this.loadData(this.loaded)}},{key:"loadData",value:function(e){return this.setState(Object(f.a)({},this.state,{loading:!0})),fetch("".concat(b.apiUrl,"/issue/").concat(this.props.match.params.issueID)).then((function(e){return e.json()})).then(e,(function(t){e(null,t)}))}},{key:"render",value:function(){var e=this;if(this.state.deleted||this.state.created)return s.a.createElement(h.a,{to:"/"});var t=s.a.createElement(O.a,{variant:"primary",type:"submit",onClick:this.create},"Create new issue"),a=s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{variant:"primary",type:"submit",onClick:this.update},"Update issue"),s.a.createElement(O.a,{variant:"danger",onClick:this.remove},"Delete issue")),n="new"===this.props.match.params.issueID?t:a;return s.a.createElement("div",null,s.a.createElement("h2",{className:"mt-2 mb-2"},"Issue Details"),s.a.createElement(g.a,null,s.a.createElement(g.a.Group,null,s.a.createElement(g.a.Label,null,"Issue Name"),s.a.createElement(g.a.Control,{type:"text",onChange:this.changeIssueName,value:this.state.data.issueName,className:"mb-4"}),s.a.createElement(g.a.Label,null,"Issue Description"),s.a.createElement(g.a.Control,{as:"textarea",rows:"3",onChange:this.changeIssueDescription,value:this.state.data.issueDescription,className:"mb-4"}),s.a.createElement(g.a.Label,null,"Issue State"),s.a.createElement(g.a.Control,{as:"select",onChange:this.changeIssueState,value:this.state.data.issueState,className:"mb-4"},b.issueStates.map((function(t,a){if(console.log(b.issueStates),!(a<b.issueStates.indexOf(e.state.data.issueState)))return s.a.createElement("option",{key:a,value:t},t)}))),n)))}}]),t}(n.Component),y=(a(51),a(52),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(m.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"xl"},s.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(p.a.Brand,{as:m.b,to:"/"},"Issue Tracker"))),s.a.createElement("div",{className:"App-Container"},s.a.createElement(h.b,{path:"/",exact:!0,component:E}),s.a.createElement(h.b,{path:"/issue/:issueID",component:S}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.2236b473.chunk.js.map